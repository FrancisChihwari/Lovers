<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ashley ‚ù§Ô∏è Francis | A Cinematic Love Story</title>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --luxury-red: #ff2d55;
            --deep-burgundy: #1a0a0d;
            --gold: #d4af37;
            --glass: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.2);
            --text-light: #ffffff;
            --soft-pink: #ff80ab;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
        
        body {
            background: var(--deep-burgundy);
            color: var(--text-light);
            overflow-x: hidden;
            scroll-behavior: smooth;
            -webkit-font-smoothing: antialiased;
        }

        /* --- LUXURY BACKGROUND --- */
        #bgCanvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: radial-gradient(circle at center, #2d0a10 0%, #000000 100%);
        }

        /* --- AUDIO CONTROL --- */
        #music-control {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 10002;
            background: var(--glass);
            backdrop-filter: blur(10px);
            border: 1px solid var(--glass-border);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: none; /* Hidden until music starts */
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
            transition: 0.3s;
        }
        #music-control:hover { transform: scale(1.1); background: rgba(255,45,85,0.2); }

        /* --- CINEMATIC INTRO --- */
        #intro-overlay {
            position: fixed;
            inset: 0;
            background: #000;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 1.5s ease;
        }

        #intro-text {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2rem, 8vw, 5rem);
            color: var(--gold);
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.5);
            opacity: 0;
        }

        .enter-btn {
            margin-top: 30px;
            padding: 15px 40px;
            background: transparent;
            border: 1px solid var(--gold);
            color: var(--gold);
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            letter-spacing: 2px;
            transition: all 0.4s;
            opacity: 0;
        }

        .enter-btn:hover {
            background: var(--gold);
            color: black;
            box-shadow: 0 0 30px var(--gold);
        }

        /* --- LOCK SCREEN --- */
        #lock {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
            background: radial-gradient(circle at center, rgba(255, 45, 85, 0.1), transparent);
        }

        #lock h2 {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(3rem, 10vw, 5rem);
            margin-bottom: 20px;
            background: linear-gradient(45deg, #fff, var(--soft-pink));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .glass-input-container {
            background: var(--glass);
            backdrop-filter: blur(20px);
            padding: 40px;
            border-radius: 40px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            width: 100%;
            max-width: 400px;
        }

        input {
            width: 100%;
            padding: 18px;
            border-radius: 15px;
            border: 1px solid var(--glass-border);
            background: rgba(0,0,0,0.3);
            color: white;
            text-align: center;
            font-size: 1.1rem;
            margin-bottom: 20px;
            outline: none;
            transition: border 0.3s;
        }

        input:focus { border-color: var(--luxury-red); }

        /* --- CONTENT SECTIONS --- */
        section {
            padding: 100px 20px;
            max-width: 900px;
            margin: 0 auto;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease-out;
        }

        section.visible {
            opacity: 1;
            transform: translateY(0);
        }

        h2 {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2.5rem, 7vw, 4rem);
            color: var(--soft-pink);
            margin-bottom: 30px;
            text-align: center;
        }

        .card {
            background: var(--glass);
            backdrop-filter: blur(15px);
            border: 1px solid var(--glass-border);
            border-radius: 35px;
            padding: 40px;
            position: relative;
            overflow: hidden;
            transition: transform 0.4s, box-shadow 0.4s;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 45, 85, 0.1);
            border-color: rgba(255, 45, 85, 0.4);
        }

        /* --- TIMER --- */
        .timer-container {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        .timer-item {
            background: linear-gradient(145deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01));
            padding: 20px 10px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
        }

        .timer-item span {
            display: block;
            font-size: 2rem;
            font-weight: 700;
            color: var(--luxury-red);
        }

        /* --- VALENTINE INFO GRID --- */
        .val-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        .val-box {
            background: rgba(255,255,255,0.03);
            padding: 20px;
            border-radius: 20px;
            border: 1px solid var(--glass-border);
        }
        .val-box h4 { color: var(--gold); margin-bottom: 10px; }

        /* --- 3D GALLERY --- */
        .gallery-container {
            height: 450px;
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 2000px;
            margin: 50px 0;
        }

        .carousel {
            width: 220px;
            height: 280px;
            position: relative;
            transform-style: preserve-3d;
            animation: rotate 25s infinite linear;
        }

        .carousel:hover { animation-play-state: paused; }

        .carousel img {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 20px;
            object-fit: cover;
            border: 2px solid var(--glass-border);
            transform: rotateY(var(--i)) translateZ(350px);
            -webkit-box-reflect: below 15px linear-gradient(transparent, transparent, rgba(0,0,0,0.2));
            transition: filter 0.5s, transform 0.5s;
        }

        /* --- GAME BOX --- */
        #game-container {
            height: 400px;
            background: rgba(0,0,0,0.4);
            border-radius: 30px;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--luxury-red);
        }

        /* --- TIMELINE --- */
        .timeline { border-left: 2px solid var(--luxury-red); margin-left: 20px; padding-left: 30px; }
        .timeline-point {
            background: var(--glass);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 30px;
            position: relative;
        }
        .timeline-point::before {
            content: '‚ù§Ô∏è';
            position: absolute;
            left: -42px;
            top: 25px;
            filter: drop-shadow(0 0 5px var(--luxury-red));
        }

        /* --- INTERACTIVE BUTTONS --- */
        button.luxury-btn {
            background: linear-gradient(45deg, var(--luxury-red), #ff4d79);
            color: white;
            border: none;
            padding: 15px 35px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 10px 20px rgba(255, 45, 85, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* --- SURPRISE MODAL --- */
        #surprise-modal {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(15px);
            z-index: 10000;
            display: none;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        /* --- ANIMATIONS --- */
        @keyframes rotate { from { transform: rotateY(0); } to { transform: rotateY(360deg); } }
        
        .sparkle {
            position: absolute;
            pointer-events: none;
            background: white;
            border-radius: 50%;
            animation: sparkleAnim 0.8s linear forwards;
        }

        @keyframes sparkleAnim {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(1.5); opacity: 0; }
        }

        .typing::after {
            content: '|';
            animation: blink 0.7s infinite;
        }

        @keyframes blink { 50% { opacity: 0; } }

        /* Mobile Adjustments */
        @media (max-width: 600px) {
            .timer-container { grid-template-columns: repeat(2, 1fr); }
            .carousel { width: 140px; height: 180px; }
            .carousel img { transform: rotateY(var(--i)) translateZ(180px); }
            section { padding: 60px 15px; }
        }

        .glowing-name {
            color: var(--gold);
            text-shadow: 0 0 10px var(--gold);
            display: inline-block;
        }
    </style>
</head>
<body>

<audio id="bgMusic" loop>
    <source src="NYASHA.m4a" type="audio/mpeg">
</audio>

<button id="music-control" onclick="toggleMusic()">üîä</button>

<div id="intro-overlay">
    <h1 id="intro-text">Ashley ‚ù§Ô∏è Francis</h1>
    <button class="enter-btn" id="enter-experience">START THE JOURNEY</button>
</div>

<canvas id="bgCanvas"></canvas>

<div id="lock">
    <div class="glass-input-container">
        <h2>Hi Beautiful üíñ<br> Can you be my Valentine</h2>
        <p style="margin-bottom: 25px; opacity: 0.8;">Enter our special meeting spot to enter (lowercase)</p>
        <input type="password" id="pass" placeholder="Secret word...">
        <button class="luxury-btn" onclick="unlock()">Open My Heart</button>
    </div>
</div>

<div id="content" style="display:none;">
    
    <section id="timer-sec">
        <h2>Every Second With You ‚è≥</h2>
        <div class="card" style="text-align: center;">
            <p style="font-weight: 600; color: var(--soft-pink); margin-bottom: 20px;">Since we started knowing each other:</p>
            <div class="timer-container">
                <div class="timer-item"><span id="days">0</span><label>Days</label></div>
                <div class="timer-item"><span id="hours">0</span><label>Hours</label></div>
                <div class="timer-item"><span id="mins">0</span><label>Mins</label></div>
                <div class="timer-item"><span id="secs">0</span><label>Secs</label></div>
            </div>
            <p style="margin-top: 25px; font-style: italic;">2 Months, 2 Weeks, and 4 Days of pure love.</p>
        </div>
    </section>

    <section>
        <h2>The Spirit of Valentine's üïØÔ∏è</h2>
        <div class="card">
            <p style="margin-bottom: 20px; text-align: center; opacity: 0.9;">While our love is our own beautiful story, we share this day with centuries of romance:</p>
            <div class="val-grid">
                <div class="val-box">
                    <h4>The First Letter</h4>
                    <p style="font-size: 0.85rem; opacity: 0.8;">In 1415, Charles, Duke of Orleans, sent the first 'Valentine' poem to his wife while imprisoned in the Tower of London.</p>
                </div>
                <div class="val-box">
                    <h4>Symbol of the Rose</h4>
                    <p style="font-size: 0.85rem; opacity: 0.8;">The Red Rose was the favorite flower of Venus, the Goddess of Love, representing deep passion and immortal beauty.</p>
                </div>
                <div class="val-box">
                    <h4>The Love Knot</h4>
                    <p style="font-size: 0.85rem; opacity: 0.8;">In the 1800s, 'Love Knots' were intricate paper puzzles sent to lovers that could only be read when opened correctly‚Äîjust like our hearts.</p>
                </div>
            </div>
        </div>
    </section>

    <section>
        <h2>A Message For You, Ashley üå∏</h2>
        <div class="card" style="text-align: center;">
            <p id="compliment-box" style="font-size: 1.2rem; min-height: 80px; color: #fff;">Click below to see how much you mean to me...</p>
            <button class="luxury-btn" onclick="generateCompliment()">üíñ Get a Sweet Note</button>
        </div>
    </section>

    <section>
        <h2>How It All Started üí´</h2>
        <div class="card">
            <h3 style="color: var(--luxury-red); margin-bottom: 15px; font-size: 1.5rem;">The Church & The Bridge</h3>
            <p style="line-height: 1.8; opacity: 0.9;">
                Ashley, since I saw you in the <b>Church</b>, something shifted. Then we talked at the <b>Footbridge</b> and it was just awesome. 
                <br><br>
                Then came those <b>long night conversations</b> the ones that made your family wonder <i>"What has been on you?"</i>. They didn't know it was love being developed, one late-night laugh at a time and here we are deep in love.
            </p>
        </div>
    </section>

    <section>
        <h2>US üì∏</h2>
        <p style="text-align: center; margin-bottom: 20px;">Francis & his Babe Boo üíñ</p>
        <div class="gallery-container">
            <div class="carousel">
                <img src="A1.jpeg" style="--i:0deg" alt="Ashley">
                <img src="F1.JPG" style="--i:60deg" alt="Francis">
                <img src="A2.jpeg" style="--i:120deg" alt="Ashley">
                <img src="F2.jpg" style="--i:180deg" alt="Francis">
                <img src="A3.jpeg" style="--i:240deg" alt="Ashley">
                <img src="A4.jpeg" style="--i:300deg" alt="Ashley">
            </div>
        </div>
    </section>

    <section>
        <h2>Our Future Dreams ‚úàÔ∏è</h2>
        <div class="card">
            <div style="margin-bottom: 20px;">
                <p style="padding: 15px; background: rgba(255,45,85,0.1); border-radius: 15px; margin-bottom: 10px; border-left: 4px solid var(--luxury-red);">‚úì See you win your first Case as an Advocate after helping people in Social Work.</p>
                <p style="padding: 15px; background: rgba(255,255,255,0.05); border-radius: 15px; margin-bottom: 10px;">Travel together to places that we never thought we will reach.</p>
                <p style="padding: 15px; background: rgba(255,45,85,0.1); border-radius: 15px; margin-bottom: 10px; border-left: 4px solid var(--luxury-red);">‚úì Talking until 2 AM for the rest of our lives.</p>
                <p style="padding: 15px; background: rgba(255,255,255,0.05); border-radius: 15px;">Building a home filled with laughter and peace.</p>
            </div>
        </div>
    </section>

    <section>
        <h2>Catch My Love üéÆ</h2>
        <p style="text-align: center; margin-bottom: 15px;">Click the hearts! Score: <span id="score" style="color: var(--luxury-red); font-weight: bold;">0</span></p>
        <div id="game-container"></div>
        <div style="text-align: center; margin-top: 20px;">
            <button class="luxury-btn" onclick="startGame()" id="start-btn">Start Game</button>
        </div>
    </section>

    <section>
        <h2>Letters For My Advocate üíå</h2>
        <div class="card" style="min-height: 200px;">
            <p id="letter-text" style="font-size: 1.1rem; line-height: 1.8;">Ashley, click a button to read a letter from my soul...</p>
        </div>
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 25px;">
            <button class="luxury-btn" style="padding: 10px 20px;" onclick="writeLetter('dream')">Your Dreams</button>
            <button class="luxury-btn" style="padding: 10px 20px;" onclick="writeLetter('love')">My Love</button>
            <button class="luxury-btn" style="padding: 10px 20px;" onclick="writeLetter('future')">Our Future</button>
        </div>
    </section>

    <section>
        <h2>Grow Our Love Garden üå∑</h2>
        <div class="card" style="text-align: center;">
            <p style="margin-bottom: 20px; opacity: 0.8;">Click the pots to plant flowers for us.</p>
            <div class="flower-pot" onclick="growFlower(this, 'üå∑')">üçØ</div>
            <div class="flower-pot" onclick="growFlower(this, 'üåπ')">üçØ</div>
            <div class="flower-pot" onclick="growFlower(this, 'üå∏')">üçØ</div>
            <div class="flower-pot" onclick="growFlower(this, 'üåª')">üçØ</div>
        </div>
    </section>

    <section id="milestones">
        <h2>Our Love Milestones üìç</h2>
        <div class="timeline">
            <div class="timeline-point">
                <h4 style="color: var(--luxury-red); margin-bottom: 5px;">The Church</h4>
                <p style="opacity: 0.8;">The first time my soul recognized yours.</p>
            </div>
            <div class="timeline-point">
                <h4 style="color: var(--luxury-red); margin-bottom: 5px;">The Footbridge</h4>
                <p style="opacity: 0.8;">The awesome talk that changed everything.</p>
            </div>
            <div class="timeline-point">
                <h4 style="color: var(--luxury-red); margin-bottom: 5px;">The Long Nights</h4>
                <p style="opacity: 0.8;">When love developed and families started asking questions!</p>
            </div>
        </div>
    </section>

    <footer id="main-footer" style="padding: 100px 20px; text-align: center;">
        <button class="luxury-btn" onclick="window.open('https://youtu.be/jAYscUn43Ro','_blank')" style="background: white; color: var(--luxury-red);">üé∂ Play Our Special Song</button>
        <div style="margin-top: 50px;">
            <p style="opacity: 0.7;">Forever & Always,</p>
            <h2 class="glowing-name" style="font-size: 3rem;">Francis ‚ù§Ô∏è Ashley</h2>
        </div>
        <p style="font-size: 0.7rem; opacity: 0.3; margin-top: 30px;">(Long-press me for a secret)</p>
    </footer>
</div>

<div id="surprise-modal">
    <div class="modal-content">
        <h2 style="font-size: 3rem;">Ashley...</h2>
        <p style="font-size: 1.5rem; margin-bottom: 30px;">Will you continue writing forever with me?</p>
        <button class="luxury-btn" style="font-size: 1.5rem; padding: 20px 60px;" onclick="acceptFinal()">YES, FOREVER</button>
    </div>
</div>

<script>
    const music = document.getElementById('bgMusic');
    const musicCtrl = document.getElementById('music-control');

    // 1. CINEMATIC INTRO
    const introOverlay = document.getElementById('intro-overlay');
    const introText = document.getElementById('intro-text');
    const enterBtn = document.getElementById('enter-experience');

    window.onload = () => {
        setTimeout(() => {
            introText.style.opacity = '1';
            introText.style.transition = 'opacity 2s';
            typeWriter(introText, "Ashley ‚ù§Ô∏è Francis", 100);
        }, 500);
        
        setTimeout(() => {
            enterBtn.style.opacity = '1';
        }, 2500);
    };

    enterBtn.onclick = () => {
        // MUSIC STARTS HERE
        music.play().catch(e => console.log("Music blocked until further interaction"));
        musicCtrl.style.display = 'flex';
        
        introOverlay.style.opacity = '0';
        setTimeout(() => introOverlay.style.display = 'none', 1500);
    };

    function toggleMusic() {
        if (music.paused) {
            music.play();
            musicCtrl.innerText = "üîä";
        } else {
            music.pause();
            musicCtrl.innerText = "üîá";
        }
    }

    function typeWriter(element, text, speed) {
        element.innerHTML = '';
        let i = 0;
        function type() {
            if (i < text.length) {
                element.innerHTML += text.charAt(i);
                i++;
                setTimeout(type, speed);
            }
        }
        type();
    }

    // 2. UNLOCK
    function unlock() {
        const p = document.getElementById('pass').value.toLowerCase().trim();
        if(p === 'footbridge') {
            heartExplosion();
            document.getElementById('lock').style.display = 'none';
            document.getElementById('content').style.display = 'block';
            initScrollAnimations();
        } else {
            alert("Think about where we had that awesome talk! ‚ù§Ô∏è");
        }
    }

    function heartExplosion() {
        for(let i=0; i<70; i++) {
            const h = document.createElement('div');
            h.innerHTML = '‚ù§Ô∏è';
            h.style.position = 'fixed';
            h.style.left = '50%';
            h.style.top = '50%';
            h.style.fontSize = Math.random() * 30 + 10 + 'px';
            h.style.zIndex = '10001';
            h.style.pointerEvents = 'none';
            document.body.appendChild(h);
            const angle = Math.random() * Math.PI * 2;
            const velocity = Math.random() * 15 + 5;
            const vx = Math.cos(angle) * velocity;
            const vy = Math.sin(angle) * velocity;
            let x = window.innerWidth / 2;
            let y = window.innerHeight / 2;
            let opacity = 1;
            const move = setInterval(() => {
                x += vx; y += vy; opacity -= 0.02;
                h.style.left = x + 'px'; h.style.top = y + 'px'; h.style.opacity = opacity;
                if(opacity <= 0) { clearInterval(move); h.remove(); }
            }, 16);
        }
    }

    // 3. TIMER
    function getStartDate() {
        let d = new Date();
        d.setMonth(d.getMonth() - 2);
        d.setDate(d.getDate() - 18); 
        return d.getTime();
    }
    const startTime = getStartDate();
    setInterval(() => {
        const now = new Date().getTime();
        const diff = now - startTime;
        document.getElementById('days').innerText = Math.floor(diff / (1000 * 60 * 60 * 24));
        document.getElementById('hours').innerText = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        document.getElementById('mins').innerText = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        document.getElementById('secs').innerText = Math.floor((diff % (1000 * 60)) / 1000);
    }, 1000);

    // 4. COMPLIMENTS
    const compliments = [
        "Ashley, you are going to be a brilliant Advocate in the future now Social Worker but your dream will come true future Advocate.",
        "Your laugh is my favorite melody and that look you give me wow.",
        "I love how your family wondered about us while we talked all night, they would say Ashie asi you are in love ummmm.",
        "You are the most beautiful person I have ever met, inside and out.",
        "Your uncle would say I now understand why wakanyura cause the guy is deserving ummm he is so cool",
        "Meeting you at the church was the start of my happiness."
    ];
    function generateCompliment() {
        const box = document.getElementById('compliment-box');
        const text = compliments[Math.floor(Math.random()*compliments.length)];
        box.classList.add('typing');
        typeWriter(box, text, 40);
        createSparkles();
    }

    // 5. LETTERS
    function writeLetter(type) {
        const display = document.getElementById('letter-text');
        const msgs = {
            dream: "You are currently a Social Worker, but I see the fire in you to be an Advocate. I will be right there in the courtroom watching you win.",
            love: "My love for you grew in those long night calls. Every word we spoke built a bridge between our hearts that can never be broken.",
            future: "I see a future where we still talk until the sun comes up."
        };
        display.innerHTML = '';
        const words = msgs[type].split(' ');
        words.forEach((word, i) => {
            setTimeout(() => { display.innerHTML += word + ' '; }, i * 150);
        });
    }

    // 6. GAME
    let score = 0;
    let gameRunning = false;
    function startGame() {
        if(gameRunning) return;
        gameRunning = true; score = 0;
        document.getElementById('score').innerText = score;
        document.getElementById('start-btn').style.display = 'none';
        let timer = setInterval(createFallingHeart, 700);
        setTimeout(() => { 
            clearInterval(timer); gameRunning = false; 
            document.getElementById('start-btn').style.display = 'inline-block';
            alert("You caught " + score + " hearts! Each one is a kiss from me."); 
        }, 15000);
    }

    function createFallingHeart() {
        const container = document.getElementById('game-container');
        const h = document.createElement('div');
        h.innerHTML = '‚ù§Ô∏è';
        h.style.position = 'absolute';
        h.style.left = Math.random() * (container.clientWidth - 40) + 'px';
        h.style.top = '-50px'; h.style.fontSize = '30px'; h.style.cursor = 'pointer';
        container.appendChild(h);
        let pos = -50;
        let id = setInterval(() => {
            if(pos >= 400) { clearInterval(id); h.remove(); }
            else { pos += 3; h.style.top = pos + 'px'; }
        }, 20);
        h.onclick = () => {
            score++; document.getElementById('score').innerText = score;
            h.innerHTML = '‚ú®'; clearInterval(id); setTimeout(() => h.remove(), 200);
        };
    }

    // 7. GARDEN
    function growFlower(el, flower) {
        el.style.transform = "scale(0) rotate(180deg)";
        setTimeout(() => {
            el.innerHTML = flower; el.style.transform = "scale(1.2) rotate(0deg)";
        }, 400);
    }

    // 8. BACKGROUND PARTICLES
    const canvas = document.getElementById('bgCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    let particles = [];
    for(let i=0; i<80; i++) {
        particles.push({
            x: Math.random()*canvas.width, y: Math.random()*canvas.height, 
            r: Math.random()*2+1, s: Math.random()*0.4+0.1, o: Math.random()
        });
    }

    function animate() {
        ctx.clearRect(0,0,canvas.width,canvas.height);
        particles.forEach(p => {
            ctx.beginPath(); ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
            ctx.fillStyle = `rgba(255, 255, 255, ${p.o})`; ctx.fill();
            p.y -= p.s; if(p.y < 0) p.y = canvas.height;
        });
        requestAnimationFrame(animate);
    }
    animate();

    function initScrollAnimations() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if(entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    if(entry.target.id === 'milestones') showFinalSurprise();
                }
            });
        }, { threshold: 0.2 });
        document.querySelectorAll('section').forEach(s => observer.observe(s));
    }

    function showFinalSurprise() {
        window.onscroll = function() {
            if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 10) {
                setTimeout(() => {
                    document.getElementById('surprise-modal').style.display = 'flex';
                }, 1000);
            }
        };
    }

    function acceptFinal() {
        document.getElementById('surprise-modal').innerHTML = `
            <div class="modal-content">
                <h2 style="font-size: 4rem;">I LOVE YOU!</h2>
                <p>Forever starts now. ‚ù§Ô∏è</p>
            </div>
        `;
        setInterval(heartExplosion, 500);
    }

    function createSparkles() {
        for(let i=0; i<10; i++) {
            const s = document.createElement('div');
            s.className = 'sparkle';
            s.style.left = Math.random() * 100 + '%';
            s.style.top = Math.random() * 100 + '%';
            s.style.width = s.style.height = Math.random() * 5 + 2 + 'px';
            document.querySelector('.card').appendChild(s);
            setTimeout(() => s.remove(), 800);
        }
    }
</script>
</body>

</html>

